<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <style>
      body { font-family: Arial, sans-serif; color:#0f172a; }
      .card { max-width: 680px; margin:auto; border:1px solid #e2e8f0; border-radius:12px; padding:16px; }
      .muted{ color:#475569; }
      table { width:100%; border-collapse: collapse; }
      th, td { padding:8px; border-top:1px solid #e2e8f0; text-align:right;}
      th:first-child, td:first-child { text-align:left; }
    </style>
  </head>
  <body>
    <div class="card">
      <h2>Invoice #{{ inv.id }}</h2>
      <div class="muted">Date: {{ inv.date.strftime('%Y-%m-%d') if inv.date }}</div>
      <h3>Bill To</h3>
      {% if inv.customer.company_name %}<div>{{ inv.customer.company_name }}</div>{% endif %}
      <div>{{ inv.customer.full_name }} â€” {{ inv.customer.email }}</div>
      <h3>Items</h3>
      <table>
        <thead><tr><th>Description</th><th>Qty</th><th>Unit</th><th>Total</th></tr></thead>
        <tbody>
          {% for it in inv.items %}
          <tr>
            <td>{{ it.description }}</td>
            <td>{{ it.quantity }}</td>
            <td>{{ it.unit_price|money }}</td>
            <td>{{ (it.quantity * it.unit_price)|money }}</td>
          </tr>
          {% endfor %}
          <tr><td colspan="3"><strong>Subtotal</strong></td><td><strong>{{ inv.subtotal|money }}</strong></td></tr>
          <tr><td colspan="3">Tax</td><td>{{ inv.tax|money }}</td></tr>
          <tr><td colspan="3"><strong>Total</strong></td><td><strong>{{ inv.total|money }}</strong></td></tr>
        </tbody>
      </table>
      <p class="muted">Thank you for your business!</p>
    </div>
  </body>
</html>
